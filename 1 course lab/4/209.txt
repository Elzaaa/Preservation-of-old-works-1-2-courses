Массив меток - уже закрашенных в поебать какой цвет
Изначально все незакрашены
Заводим копилочку вершин
Счетчик равен 0
И далее
1)берем любую незакрашенную вершину, закидываем в копилочку
2)идем по всем вершинам: если незакрашена и не смежна ни с одной вершиной из копилочки, то закрашиваем и кладем в копилочку
Как дошли до конца - обновляем счетчик, чистим копилочку, если остались незакрашенные - повторяем с 1) 
 
Ну и счетчик - количество цветов